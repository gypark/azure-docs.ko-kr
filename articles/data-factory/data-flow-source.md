---
title: Azure Data Factory의 데이터 흐름 매핑 기능에서 소스 변환 설정
description: 매핑 데이터 흐름에서 원본 변환을 설정 하는 방법에 알아봅니다.
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/12/2019
ms.openlocfilehash: 51c1ea7b554178f7fb3f264bf731ffd5872ceea2
ms.sourcegitcommit: 509e1583c3a3dde34c8090d2149d255cb92fe991
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/27/2019
ms.locfileid: "66234555"
---
# <a name="source-transformation-for-mapping-data-flow"></a>매핑 데이터 흐름에 대 한 원본 변환 

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

소스 변환 데이터 흐름에 대 한 데이터 소스를 구성합니다. 데이터 흐름에는 둘 이상의 소스 변환을 포함할 수 있습니다. 소스 변환으로 흐르는 데이터를 디자인 하는 경우 항상 시작 합니다.

모든 데이터 흐름에는 하나 이상의 소스 변환을 해야 합니다. 데이터 변환을 완료 하는 데 필요한 만큼 소스를 추가 합니다. 조인 변환이 나는 공용 구조체와 함께 해당 원본에 연결할 수 있습니다.

> [!NOTE]
> 데이터 흐름을 디버깅 하는 경우 샘플링을 설정 하거나 디버그 소스 제한을 사용 하 여 원본에서 데이터를 읽습니다. 데이터를 싱크에 쓸 동작 데이터 흐름 파이프라인에서 데이터 흐름을 실행 해야 합니다. 

![원본 소스 설정 탭의 변환 옵션](media/data-flow/source.png "원본")

정확히 하나의 Data Factory 데이터 집합을 사용 하 여 데이터 흐름 소스 변환에 연결 합니다. 데이터 집합에서 읽기 또는 쓰기에 하려는 데이터의 위치와 모양을 정의 합니다. 한 번에 둘 이상의 파일을 사용 하 여 작업에 와일드 카드와 파일 목록 원본에서 사용할 수 있습니다.

## <a name="data-flow-staging-areas"></a>데이터 흐름 준비 영역

데이터 흐름 작동 *준비* Azure 모두에 있는 데이터 집합입니다. 이러한 데이터 집합을 사용 하 여 데이터를 변환 하는 경우 준비 합니다. 

Data Factory를 사용 하면 거의 80 네이티브 커넥터에 권한이 있습니다. 데이터 흐름에서 이러한 다른 원본에서 데이터를 포함 하려면 데이터 흐름 데이터 집합 준비 영역 중 하나에서 해당 데이터를 준비 하려면 복사 작업 도구를 사용 합니다.

## <a name="options"></a>옵션

데이터에 대 한 스키마 및 샘플링 옵션을 선택 합니다.

### <a name="allow-schema-drift"></a>스키마 드리프트 허용
선택 **스키마 드리프트 허용** 원본 열은 자주 변경 됩니다. 이 설정을 통해 싱크로 변환을 통해 흐름에 들어오는 모든 원본 필드.

### <a name="validate-schema"></a>스키마 유효성 검사

원본 데이터의 들어오는 버전에 정의 된 스키마와 일치 하지 않으면, 데이터 흐름 실행 되지 것입니다.

![유효성 검사 스키마, 허용 스키마 드리프트 및 샘플링에 대 한 옵션을 보여 주는 공개 소스 설정을](media/data-flow/source1.png "공개 소스 1")

### <a name="sample-the-data"></a>샘플 데이터
사용 하도록 설정 **샘플링** 소스에서 행의 수를 제한 합니다. 테스트 또는 디버깅을 위해 원본에서 데이터를 샘플링 하는 경우이 설정을 사용 합니다.

## <a name="define-schema"></a>스키마를 정의 합니다.

소스 파일 (예를 들어 플랫 파일 대신, Parquet 파일) 강력한 없는 경우 소스 변환에서 각 필드를 여기에 대 한 데이터 형식을 정의 합니다.  

![변환 설정 정의 스키마 탭에서 원본](media/data-flow/source2.png "2 원본")

나중에 선택 변환에서 열 이름을 변경할 수 있습니다. 파생 열 변환을 사용 하 여 데이터 형식을 변경 합니다. 강력한 형식의 원본에 대 한 나중에 선택 되는 변환의 데이터 형식을 수정할 수 있습니다. 

![선택 변환에서 데이터 형식](media/data-flow/source003.png "데이터 형식")

### <a name="optimize-the-source-transformation"></a>소스 변환 최적화

에 **최적화** 소스 변환에 대 한 탭 표시 될 수 있습니다를 **원본** 파티션 유형입니다. 이 옵션은 원본 Azure SQL Database 인 경우에 사용할 수 있습니다. 이 Data Factory에서 SQL Database 원본에 대해 대규모 쿼리를 실행 하는 병렬 연결을 확인 하려고 시도 했기 때문입니다.

![원본 파티션 설정](media/data-flow/sourcepart2.png "분할")

원본에 따라 SQL Database에 데이터를 분할할 필요가 있지만 파티션은 큰 쿼리에 유용 합니다. 열 또는 쿼리 기반 파티션에 만들 수 있습니다.

### <a name="use-a-column-to-partition-data"></a>데이터를 분할할 열을 사용 하 여

원본 테이블에서의 파티션에 열을 선택 합니다. 최대 연결 수를 설정할 수도 있습니다.

### <a name="use-a-query-to-partition-data"></a>데이터를 분할 하는 쿼리를 사용 합니다.

파티션 쿼리를 기반으로 연결 하도록 선택할 수 있습니다. WHERE 조건자의 내용을 입력 하면 됩니다. 예를 들어, 연도 > 1980를 입력 합니다.

## <a name="source-file-management"></a>원본 파일 관리

원본에서 파일을 관리 하는 설정을 선택 합니다. 

![새 원본 설정은](media/data-flow/source2.png "새 설정")

* **와일드 카드 경로**: 원본 폴더에서 일련의 패턴과 일치 하는 파일을 선택 합니다. 이 설정은 데이터 집합 정의에서 모든 파일을 덮어씁니다.
* **파일 목록을**: 파일 집합입니다. 처리할 파일 상대 경로 목록을 포함 하는 텍스트 파일을 만듭니다. 이 텍스트 파일을 가리킵니다.
* **파일 이름을 저장할 열을**: 소스 파일의 이름을 데이터의 열에 저장 합니다. 파일 이름 문자열을 저장하려면 여기에 새 이름을 입력합니다.
* **완료 된 후**: 소스 파일을 사용 하 여 아무 것도 수행 하는 데이터 흐름 실행, 소스 파일을 삭제 하거나 원본 파일을 이동 하려면 선택 합니다. 이동에 대 한 경로 상대적입니다.

### <a name="sql-datasets"></a>SQL 데이터 집합

원본 SQL Database 또는 SQL Data Warehouse의 경우 소스 파일 관리에 대 한 추가 옵션이 있습니다.

* **쿼리**: 원본의 SQL 쿼리를 입력합니다. 이 설정은 데이터 집합에서 선택한 테이블을 덮어씁니다. 사실은 **Order By** 절 여기에서 지원 되지 않습니다 이지만 전체 SELECT FROM 문을 설정할 수 있습니다. 또한 사용자 정의 테이블 함수를 사용할 수 있습니다. **선택 * udfGetData()에서** sql 테이블을 반환 하는 udf 합니다. 이 쿼리는 데이터 흐름에서 사용할 수 있는 원본 테이블을 생성 합니다.
* **배치 크기**: 읽기에 큰 데이터 청크를 일괄 처리 크기를 입력 합니다.

> [!NOTE]
> 파일 작업 (파이프라인 디버그 또는 실행 하는 실행)를 실행 하는 파이프라인의 실행 데이터 흐름 작업을 사용 하는 파이프라인에서 데이터 흐름을 시작 하는 경우에 실행 됩니다. 파일 작업 *하지* 데이터 흐름 디버그 모드에서 실행 합니다.

### <a name="projection"></a>프로젝션

데이터 집합의 스키마와 마찬가지로 프로젝션 원본에서 데이터 열, 형식 및 원본 데이터에서 형식을 정의합니다. 

![프로젝션 탭의 설정은](media/data-flow/source3.png "프로젝션")

텍스트 파일에 정의 된 스키마가 없는 경우 선택 **데이터 형식 검색** Data Factory는 샘플 및 데이터 형식을 유추할 수 있도록 합니다. 선택 **정의 기본 형식을** 자동 검색에 기본 데이터 형식을 지정 합니다. 

나중에 파생 열 변환에서 열 데이터 형식을 수정할 수 있습니다. 선택한 변환을 사용 하 여 열 이름을 수정 합니다.

![기본 데이터 형식에 대 한 설정을](media/data-flow/source2.png "기본 형식")

## <a name="next-steps"></a>다음 단계

빌드를 시작을 [파생 열 변환](data-flow-derived-column.md) 와 [변환 선택](data-flow-select.md)합니다.
